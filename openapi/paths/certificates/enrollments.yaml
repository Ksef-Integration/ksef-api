post:
  tags:
  - Certificates
  summary: Wysyłka wniosku certyfikacyjnego
  description: 'Przyjmuje wniosek certyfikacyjny i rozpoczyna jego przetwarzanie.


    Dozwolone typy kluczy prywatnych:

    - RSA (OID: 1.2.840.113549.1.1.1), długość klucza równa 2048 bitów,

    - EC (klucze oparte na krzywych eliptycznych, OID: 1.2.840.10045.2.1), krzywa
    NIST P-256 (secp256r1)


    Zalecane jest stosowanie kluczy EC.


    Dozwolone algorytmy podpisu:

    - RSA PKCS#1 v1.5,

    - RSA PSS,

    - ECDSA (format podpisu zgodny z RFC 3279)


    Dozwolone funkcje skrótu użyte do podpisu CSR:

    - SHA1,

    - SHA256,

    - SHA384,

    - SHA512


    > Więcej informacji:

    > - [Wysłanie wniosku certyfikacyjnego](https://github.com/CIRFMF/ksef-client-docs/blob/main/certyfikaty-wewn%C4%99trzne-KSeF.md#4-wys%C5%82anie-wniosku-certyfikacyjnego)'
  requestBody:
    description: ''
    content:
      application/json:
        schema:
          required:
          - certificateName
          - certificateType
          - csr
          allOf:
          - $ref: ../../components/schemas/enroll_certificate_request.yaml
  responses:
    '202':
      description: Accepted
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/enroll_certificate_response.yaml
    '400':
      description: '| ExceptionCode       | ExceptionDescription                                                                           |
        Details |

        |---------------------|------------------------------------------------------------------------------------------------|---------|

        | 25002               | Brak możliwości złożenia wniosku certyfikacyjnego
        dla wykorzystanego sposobu uwierzytelnienia. |         |

        | 25003               | Dane w CSR nie zgadzają się z danymi w użytym wektorze
        uwierzytelniającym.                     |         |

        | 25004               | Niepoprawny format CSR lub niepoprawny podpis CSR.                                             |         |

        | 25006               | Osiągnięto limit możliwych do złożenia wniosków certyfikacyjnych.                              |         |

        | 25007               | Osiągnięto limit dopuszczalnej liczby posiadanych
        certyfikatów.                                |         |

        | 25010               | Nieprawidłowy typ lub długość klucza.                                                          |         |

        | 25011               | Nieprawidłowy algorytm podpisu CSR.                                                            |         |

        | 21405 | Błąd walidacji danych wejściowych. | {treść błędu z walidatora}
        |'
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/exception_response.yaml
      x-summary: Bad Request
    '401':
      description: Unauthorized
  security:
  - Bearer: []
