post:
  tags:
  - InteractiveInvoice
  summary: Otwarcie sesji interaktywnej
  description: 'Otwiera sesję do wysyłki pojedynczych faktur. Należy przekazać schemat
    wysyłanych faktur oraz informacje o kluczu używanym do szyfrowania.


    > Więcej informacji:

    > - [Otwarcie sesji interaktywnej](https://github.com/CIRFMF/ksef-docs/blob/main/sesja-interaktywna.md#1-otwarcie-sesji)

    > - [Klucz publiczny Ministersta Finansów](/docs/v2/index.html#tag/Certyfikaty-klucza-publicznego)


    Wymagane uprawnienia: `InvoiceWrite`, `PefInvoiceWrite`.'
  requestBody:
    content:
      application/json:
        schema:
          required:
          - formCode
          - encryption
          allOf:
          - $ref: ../../components/schemas/open_online_session_request.yaml
        example:
          formCode:
            systemCode: FA (3)
            schemaVersion: 1-0E
            value: FA
          encryption:
            encryptedSymmetricKey: bdUVjqLj+y2q6aBUuLxxXYAMqeDuIBRTyr+hB96DaWKaGzuVHw9p+Nk9vhzgF/Q5cavK2k6eCh6SdsrWI0s9mFFj4A4UJtsyD8Dn3esLfUZ5A1juuG3q3SBi/XOC/+9W+0T/KdwdE393mbiUNyx1K/0bw31vKJL0COeJIDP7usAMDl42/H1TNvkjk+8iZ80V0qW7D+RZdz+tdiY1xV0f2mfgwJ46V0CpZ+sB9UAssRj+eVffavJ0TOg2b5JaBxE8MCAvrF6rO5K4KBjUmoy7PP7g1qIbm8xI2GO0KnfPOO5OWj8rsotRwBgu7x19Ine3qYUvuvCZlXRGGZ5NHIzWPM4O74+gNalaMgFCsmv8mMhETSU4SfAGmJr9edxPjQSbgD5i2X4eDRDMwvyaAa7CP1b2oICju+0L7Fywd2ZtUcr6El++eTVoi8HYsTArntET++gULT7XXjmb8e3O0nxrYiYsE9GMJ7HBGv3NOoJ1NTm3a7U6+c0ZJiBVLvn6xXw10LQX243xH+ehsKo6djQJKYtqcNPaXtCwM1c9RrsOx/wRXyWCtTffqLiaR0LbYvfMJAcEWceG+RaeAx4p37OiQqdJypd6LAv9/0ECWK8Bip8yyoA+0EYiAJb9YuDz2YlQX9Mx9E9FzFIAsgEQ2w723HZYWgPywLb+dlsum4lTZKQ=
            initializationVector: OmtDQdl6vkOI1GLKZSjgEg==
  responses:
    '201':
      description: Created
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/open_online_session_response.yaml
          example:
            referenceNumber: 20250625-SO-2C3E6C8000-B675CF5D68-07
            validUntil: '2025-07-11T12:23:56.0154302+00:00'
    '400':
      description: '| ExceptionCode | ExceptionDescription | Details |

        |-|-|-|

        | 21405 | Błąd walidacji danych wejściowych. | {treść błędu z walidatora}
        |'
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/exception_response.yaml
      x-summary: Bad Request
    '401':
      description: Unauthorized
    '403':
      description: Forbidden
  security:
  - Bearer: []
  x-required-permissions:
  - InvoiceWrite
  - PefInvoiceWrite
