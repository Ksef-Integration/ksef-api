get:
  tags:
  - InvoiceStatus
  summary: Pobranie UPO faktury z sesji na podstawie numeru KSeF
  description: 'Zwraca UPO faktury przesłanego w sesji na podstawie jego numeru KSeF.


    Wymagane uprawnienia: `InvoiceWrite`, `Introspection`, `PefInvoiceWrite`.'
  parameters:
  - name: referenceNumber
    in: path
    description: Numer referencyjny sesji.
    required: true
    schema:
      type: string
  - name: ksefNumber
    in: path
    description: Numer KSeF faktury.
    required: true
    schema:
      type: string
  responses:
    '200':
      description: OK
      content:
        application/xml:
          schema:
            type: string
    '400':
      description: "| ExceptionCode       | ExceptionDescription                 \
        \               | Details                                                \
        \                                                        | \n|---------------------|-----------------------------------------------------|----------------------------------------------------------------------------------------------------------------|\n\
        | 21178               | Nie znaleziono UPO dla podanych kryteriów.       \
        \   | UPO o numerze KSeF {ksefNumber} i numerze referencyjnym sesji {referenceNumber}\
        \ nie zostało znalezione.  |\n| 21405 | Błąd walidacji danych wejściowych.\
        \ | {treść błędu z walidatora} |"
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/exception_response.yaml
      x-summary: Bad Request
    '401':
      description: Unauthorized
    '403':
      description: Forbidden
  security:
  - Bearer: []
  x-required-permissions:
  - InvoiceWrite
  - Introspection
  - PefInvoiceWrite
