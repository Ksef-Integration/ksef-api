post:
  tags:
  - GrantPermissions
  summary: Nadanie podmiotom uprawnień do obsługi faktur
  description: 'Rozpoczyna asynchroniczną operację nadawania podmiotom uprawnień do
    obsługi faktur.


    > Więcej informacji:

    > - [Nadawanie uprawnień](https://github.com/CIRFMF/ksef-docs/blob/main/uprawnienia.md#nadanie-podmiotom-uprawnie%C5%84-do-obs%C5%82ugi-faktur)


    Wymagane uprawnienia: `CredentialsManage`.'
  requestBody:
    content:
      application/json:
        schema:
          required:
          - subjectIdentifier
          - permissions
          - description
          allOf:
          - $ref: ../../components/schemas/entity_permissions_grant_request.yaml
        example:
          subjectIdentifier:
            type: Nip
            value: '7762811692'
          permissions:
          - type: InvoiceRead
            canDelegate: true
          - type: InvoiceWrite
            canDelegate: true
          description: Uprawnienia do odczytu i wysyłania faktur z możliwością nadania
            ich pośrednio
  responses:
    '202':
      description: Accepted
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/permissions_operation_response.yaml
          example:
            operationReferenceNumber: 20250626-EG-333C814000-C529F710D8-D2
    '400':
      description: '| ExceptionCode | ExceptionDescription | Details |

        |-|-|-|

        | 21405 | Błąd walidacji danych wejściowych. | {treść błędu z walidatora}
        |'
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/exception_response.yaml
      x-summary: Bad Request
    '401':
      description: Unauthorized
    '403':
      description: Forbidden
  security:
  - Bearer: []
  x-required-permissions:
  - CredentialsManage
